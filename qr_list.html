<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Skill Centerr | परिणाम लिंक के QR</title>
  <meta name="description" content="Student result links के लिए QR images bulk में बनाएं।" />
  <meta name="theme-color" content="#4F0A5A" />
  <style>
    :root{ --primary:#4F0A5A; --accent:#F2CFEE; --ink:#231633; --muted:#6a5b79; --shadow:0 8px 24px rgba(35,22,51,.12); --radius:12px; --max:1000px }
    body{margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--ink); background:#fff}
    .wrap{max-width:var(--max); margin:0 auto; padding:18px}
    h1{color:var(--primary)}
    .grid{display:grid; gap:14px; grid-template-columns:repeat(auto-fill, minmax(220px, 1fr))}
    .card{border:1px solid color-mix(in oklab, var(--primary) 12%, white 88%); border-radius:var(--radius); padding:10px; box-shadow:var(--shadow)}
    .note{color:var(--muted)}
    img{width:200px; height:200px; display:block; margin:6px auto;}
    .small{font-size:12px; color:var(--muted)}
    .cfg{display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:12px}
    input{padding:8px 10px; border-radius:10px; border:1px solid color-mix(in oklab, var(--primary) 15%, white 85%)}
    button{padding:10px 14px; border-radius:10px; border:1px solid color-mix(in oklab, var(--primary) 15%, white 85%); background:#fff; cursor:pointer; font-weight:600}
    button.primary{background:linear-gradient(135deg, var(--primary), color-mix(in oklab, var(--primary) 70%, black 10%)); color:#fff; border-color:transparent}
    @media print{ .cfg{display:none} }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>QR — परिणाम लिंक</h1>
    <p class="note">Base URL सेट करें, फिर Generate दबाएँ। हर QR खुलेगा: <code>result.html?id=...</code></p>

    <div class="cfg">
      <label>Site Base URL: <input id="base" size="60" value="https://osifbd.github.io/Reslut"></label>
      <button class="primary" onclick="gen()">Generate</button>
      <button onclick="window.print()">Print / PDF</button>
    </div>

    <div id="list" class="grid"></div>
    <p class="small">QR images <a href="https://api.qrserver.com/" target="_blank" rel="noopener">api.qrserver.com</a> से आती हैं। चाहें तो QR लाइब्रेरी बदल सकते हैं।</p>
  </div>

  <script>
    async function gen(){
      const base = document.getElementById('base').value.replace(/\/$/, '');
      const res = await fetch('results.json');
      const data = await res.json();
      const list = document.getElementById('list');
      list.innerHTML = '';
      data.students.forEach(s => {
        const url = `${base}/result.html?id=${encodeURIComponent(s.id)}`;
        const card = document.createElement('div'); card.className = 'card';
        card.innerHTML = `<strong>${s.name}</strong><br><span class="small">${s.id} · ${s.roll}</span>
<img alt="QR" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}">
<a href="${url}" target="_blank">लिंक खोलें</a>`;
        list.appendChild(card);
      });
    }
  </script>
</body>
</html>